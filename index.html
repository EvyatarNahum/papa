<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×—×™×“×•×ª ×”×”×™×’×™×•×Ÿ ×©×œ ×¡×‘× - ×™×•××•×œ×“×ª 60</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            padding: 40px 20px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 3.5em;
            margin-bottom: 15px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.4em;
            opacity: 0.95;
        }
        
        .timer {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #dc2626, #991b1b);
            color: white;
            padding: 20px 30px;
            border-radius: 15px;
            font-size: 2.5em;
            font-weight: bold;
            z-index: 1000;
            box-shadow: 0 8px 30px rgba(0,0,0,0.4);
            min-width: 150px;
            text-align: center;
        }
        
        .puzzles-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .puzzle-card {
            background: white;
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            transition: all 0.3s;
            border: 4px solid transparent;
        }
        
        .puzzle-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0,0,0,0.3);
        }
        
        .puzzle-card.solved {
            border-color: #10b981;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        }
        
        .puzzle-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 3px solid #e5e7eb;
        }
        
        .puzzle-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #7e22ce;
        }
        
        .puzzle-title {
            font-size: 1.6em;
            font-weight: bold;
            color: #1f2937;
            flex: 1;
            margin: 0 20px;
        }
        
        .difficulty {
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .difficulty.hard {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .difficulty.expert {
            background: #fef3c7;
            color: #92400e;
        }
        
        .puzzle-content {
            font-size: 1.15em;
            line-height: 1.9;
            color: #374151;
            margin-bottom: 25px;
            min-height: 200px;
        }
        
        .puzzle-content p {
            margin-bottom: 15px;
        }
        
        .puzzle-content strong {
            color: #7e22ce;
            font-weight: 600;
        }
        
        .puzzle-content .highlight {
            background: #fef3c7;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .table-logic {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 1em;
        }
        
        .table-logic th,
        .table-logic td {
            padding: 12px;
            border: 2px solid #d1d5db;
            text-align: center;
        }
        
        .table-logic th {
            background: #7e22ce;
            color: white;
            font-weight: bold;
        }
        
        .table-logic tr:nth-child(even) {
            background: #f9fafb;
        }
        
        .answer-section {
            margin-top: 25px;
            padding-top: 25px;
            border-top: 2px solid #e5e7eb;
        }
        
        .answer-label {
            font-weight: bold;
            color: #374151;
            margin-bottom: 12px;
            font-size: 1.1em;
        }
        
        .answer-input {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 3px solid #d1d5db;
            border-radius: 10px;
            font-family: inherit;
            transition: all 0.3s;
        }
        
        .answer-input:focus {
            outline: none;
            border-color: #7e22ce;
            box-shadow: 0 0 0 3px rgba(126, 34, 206, 0.1);
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .submit-btn {
            flex: 1;
            padding: 15px;
            font-size: 1.2em;
            font-weight: bold;
            background: linear-gradient(135deg, #7e22ce, #6b21a8);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .submit-btn:hover {
            background: linear-gradient(135deg, #6b21a8, #581c87);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(126, 34, 206, 0.4);
        }
        
        .hint-btn {
            padding: 15px 25px;
            font-size: 1.1em;
            background: #f59e0b;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .hint-btn:hover {
            background: #d97706;
            transform: translateY(-2px);
        }
        
        .feedback {
            margin-top: 15px;
            padding: 15px 20px;
            border-radius: 10px;
            font-weight: bold;
            text-align: center;
            display: none;
            animation: slideDown 0.3s;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .feedback.show {
            display: block;
        }
        
        .feedback.correct {
            background: #d1fae5;
            color: #065f46;
            border: 2px solid #10b981;
        }
        
        .feedback.wrong {
            background: #fee2e2;
            color: #991b1b;
            border: 2px solid #ef4444;
        }
        
        .hint-box {
            margin-top: 15px;
            padding: 15px;
            background: #fef3c7;
            border: 2px solid #f59e0b;
            border-radius: 10px;
            color: #92400e;
            display: none;
        }
        
        .hint-box.show {
            display: block;
            animation: slideDown 0.3s;
        }
        
        .progress-indicator {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .progress-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #1f2937;
        }
        
        .progress-bar-container {
            background: #e5e7eb;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #10b981, #059669);
            height: 100%;
            width: 0%;
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .final-reveal {
            display: none;
            background: white;
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .final-reveal.show {
            display: block;
            animation: zoomIn 0.6s;
        }
        
        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .final-reveal h2 {
            font-size: 3.5em;
            color: #7e22ce;
            margin-bottom: 25px;
        }
        
        .final-message {
            font-size: 1.8em;
            line-height: 1.8;
            color: #374151;
            margin: 30px 0;
            padding: 30px;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-radius: 15px;
            border: 3px solid #f59e0b;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 40px;
            gap: 20px;
        }
        
        .stat-card {
            flex: 1;
            padding: 25px;
            background: linear-gradient(135deg, #ede9fe, #ddd6fe);
            border-radius: 15px;
            border: 3px solid #7e22ce;
        }
        
        .stat-label {
            font-size: 1.1em;
            color: #6b21a8;
            margin-bottom: 10px;
        }
        
        .stat-value {
            font-size: 3em;
            font-weight: bold;
            color: #7e22ce;
        }
        
        .emoji-large {
            font-size: 4em;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="timer" id="timer">10:00</div>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ§© ×—×™×“×•×ª ×”×”×™×’×™×•×Ÿ ×©×œ ×¡×‘× ğŸ§©</h1>
            <div class="subtitle">4 ×—×™×“×•×ª ×××ª×’×¨×•×ª ×œ×™×•× ×”×•×œ×“×ª 60 â€¢ ×“×“×•×§×¦×™×” â€¢ ×œ×•×’×™×§×” â€¢ ×—×©×™×‘×” ×™×¦×™×¨×ª×™×ª</div>
        </div>
        
        <div class="progress-indicator">
            <div class="progress-title">×”×ª×§×“××•×ª: <span id="solvedCount">0</span>/4 ×—×™×“×•×ª × ×¤×ª×¨×•</div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar">0%</div>
            </div>
        </div>
        
        <div class="puzzles-grid">
            <!-- Puzzle 1: ×”×©×§×¨×Ÿ ×•×”×××ª×™ -->
            <div class="puzzle-card" id="card1">
                <div class="puzzle-header">
                    <div class="puzzle-number">ğŸ¯ 1</div>
                    <div class="puzzle-title">×”×©×§×¨×Ÿ ×•×”×××ª×™</div>
                    <div class="difficulty hard">×××ª×’×¨</div>
                </div>
                
                <div class="puzzle-content">
                    <p><strong>×‘××¨×•×—×ª ×™×•× ×”×”×•×œ×“×ª ×™×© 3 ××•×¨×—×™×:</strong></p>
                    <p>ğŸ”µ <strong>×“× ×™</strong> - ×ª××™×“ ××•××¨ ×××ª<br>
                    ğŸ”´ <strong>×¨×•× ×™</strong> - ×ª××™×“ ××©×§×¨<br>
                    ğŸŸ¡ <strong>×˜×•× ×™</strong> - ×œ×¤×¢××™× ×××ª, ×œ×¤×¢××™× ×©×§×¨</p>
                    
                    <p style="margin-top: 20px;"><strong>×”× ×××¨×•:</strong></p>
                    <p>ğŸ‘¤ ××—×“ ×××¨: "×× ×™ ×“× ×™"<br>
                    ğŸ‘¤ ×”×©× ×™ ×××¨: "×× ×™ ×œ× ×“× ×™"<br>
                    ğŸ‘¤ ×”×©×œ×™×©×™ ×××¨: "×× ×™ ×œ× ×¨×•× ×™"</p>
                    
                    <p style="margin-top: 20px; background: #fef3c7; padding: 15px; border-radius: 8px;">
                        <strong>×©××œ×”:</strong> ××™ ×”×•× ××™? (×¨×©××• ×‘×¡×“×¨: ×¨××©×•×Ÿ, ×©× ×™, ×©×œ×™×©×™)
                    </p>
                </div>
                
                <div class="answer-section">
                    <div class="answer-label">×”×ª×©×•×‘×” ×©×œ×›× (×œ×“×•×’××”: ×¨×•× ×™, ×“× ×™, ×˜×•× ×™):</div>
                    <input type="text" class="answer-input" id="answer1" placeholder="×”×§×œ×™×“×• ××ª ×”×ª×©×•×‘×”...">
                    <div class="button-group">
                        <button class="submit-btn" onclick="checkAnswer(1)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                        <button class="hint-btn" onclick="toggleHint(1)">ğŸ’¡ ×¨××–</button>
                    </div>
                    <div class="hint-box" id="hint1">
                        <strong>×¨××–:</strong> ×“× ×™ ×ª××™×“ ××•××¨ ×××ª, ××– ×× ××™×©×”×• ××•××¨ "×× ×™ ×“× ×™" - ×”×× ×–×” ×™×›×•×œ ×œ×”×™×•×ª ×¨×•× ×™ (×©××©×§×¨)? ×—×©×‘×• ××™ ×™×›×•×œ ×œ×•××¨ ××ª ×›×œ ××©×¤×˜...
                    </div>
                    <div class="feedback" id="feedback1"></div>
                </div>
            </div>
            
            <!-- Puzzle 2: ×—×™×“×ª ×”××©×§×œ×•×ª -->
            <div class="puzzle-card" id="card2">
                <div class="puzzle-header">
                    <div class="puzzle-number">âš–ï¸ 2</div>
                    <div class="puzzle-title">×—×™×“×ª ×”××©×§×œ×•×ª</div>
                    <div class="difficulty hard">×××ª×’×¨</div>
                </div>
                
                <div class="puzzle-content">
                    <p><strong>×™×© ×œ×›× 12 ×›×“×•×¨×™× ×–×”×™× ×œ××¨××”.</strong></p>
                    <p>11 ×›×“×•×¨×™× ×©×•×§×œ×™× ××•×ª×• ××©×§×œ ×‘×“×™×•×§, ×•×›×“×•×¨ ××—×“ <span class="highlight">×©×•× ×”</span> ×‘××©×§×œ (×œ× ×™×•×“×¢×™× ×× ×›×‘×“ ×™×•×ª×¨ ××• ×§×œ ×™×•×ª×¨).</p>
                    
                    <p style="margin-top: 20px;"><strong>×™×© ×œ×›× ×××–× ×™×™× (×œ×œ× ××“×™×“×ª ××©×§×œ) ×©×™×›×•×œ×™× ×œ×”×©×•×•×ª ×‘×™×Ÿ 2 ×§×‘×•×¦×•×ª ×›×“×•×¨×™×.</strong></p>
                    
                    <p style="margin-top: 20px; background: #fef3c7; padding: 15px; border-radius: 8px;">
                        <strong>×©××œ×”:</strong> ××” ×”××¡×¤×¨ ×”××™× ×™××œ×™ ×©×œ ×©×§×™×œ×•×ª ×©× ×“×¨×©×•×ª ×›×“×™ ×œ××¦×•× ×‘×•×•×“××•×ª ××™×–×” ×›×“×•×¨ ×©×•× ×”?
                    </p>
                    
                    <p style="margin-top: 15px; font-size: 0.95em; color: #6b7280;">
                        ğŸ’¡ ×–×• ×—×™×“×” ×§×œ××¡×™×ª ×©×“×•×¨×©×ª ×—×©×™×‘×” ××œ×’×•×¨×™×ª××™×ª
                    </p>
                </div>
                
                <div class="answer-section">
                    <div class="answer-label">××¡×¤×¨ ×”×©×§×™×œ×•×ª ×”××™× ×™××œ×™:</div>
                    <input type="text" class="answer-input" id="answer2" placeholder="×¨×§ ××¡×¤×¨...">
                    <div class="button-group">
                        <button class="submit-btn" onclick="checkAnswer(2)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                        <button class="hint-btn" onclick="toggleHint(2)">ğŸ’¡ ×¨××–</button>
                    </div>
                    <div class="hint-box" id="hint2">
                        <strong>×¨××–:</strong> ×—×©×‘×• ×¢×œ ×—×œ×•×§×” ×œ-3 ×§×‘×•×¦×•×ª ×©×œ 4. ×× ×‘×©×§×™×œ×” ×¨××©×•× ×” ×××–× ×™×™× ×××•×–× ×™× - ×”×›×“×•×¨ ×”×©×•× ×” ×‘×§×‘×•×¦×” ×©×œ× × ×©×§×œ×”...
                    </div>
                    <div class="feedback" id="feedback2"></div>
                </div>
            </div>
            
            <!-- Puzzle 3: ×¨×¦×£ ×”××¡×¤×¨×™× -->
            <div class="puzzle-card" id="card3">
                <div class="puzzle-header">
                    <div class="puzzle-number">ğŸ”¢ 3</div>
                    <div class="puzzle-title">×”×¨×¦×£ ×”××¡×ª×•×¨×™</div>
                    <div class="difficulty expert">××•××—×”</div>
                </div>
                
                <div class="puzzle-content">
                    <p><strong>×”×ª×‘×•× × ×• ×‘×¨×¦×£ ×”××¡×¤×¨×™× ×”×‘×:</strong></p>
                    
                    <div style="text-align: center; font-size: 1.8em; margin: 30px 0; padding: 25px; background: #f3f4f6; border-radius: 10px; font-weight: bold; color: #7e22ce;">
                        2, 3, 5, 9, 17, 33, ?
                    </div>
                    
                    <p><strong>××” ×”××¡×¤×¨ ×”×‘× ×‘×¨×¦×£?</strong></p>
                    
                    <p style="margin-top: 20px; background: #fef3c7; padding: 15px; border-radius: 8px; font-size: 0.95em;">
                        ğŸ’¡ ×”×¨××–: ×–×” ×œ× ×¤×™×‘×•× ××¦'×™, ×•×œ× ××¡×¤×¨×™× ×¨××©×•× ×™×™× ×¤×©×•×˜×™×. ×—×©×‘×• ×¢×œ ×”×§×©×¨ ×‘×™×Ÿ ××¡×¤×¨ ×œ××¡×¤×¨ ×”×‘×...
                    </p>
                </div>
                
                <div class="answer-section">
                    <div class="answer-label">×”××¡×¤×¨ ×”×‘× ×‘×¨×¦×£:</div>
                    <input type="text" class="answer-input" id="answer3" placeholder="??">
                    <div class="button-group">
                        <button class="submit-btn" onclick="checkAnswer(3)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                        <button class="hint-btn" onclick="toggleHint(3)">ğŸ’¡ ×¨××–</button>
                    </div>
                    <div class="hint-box" id="hint3">
                        <strong>×¨××–:</strong> ×›×œ ××¡×¤×¨ = (×”××¡×¤×¨ ×”×§×•×“× Ã— 2) - 1<br>
                        ×œ×“×•×’××”: 2Ã—2-1=3, 3Ã—2-1=5, 5Ã—2-1=9...
                    </div>
                    <div class="feedback" id="feedback3"></div>
                </div>
            </div>
            
            <!-- Puzzle 4: ×—×™×“×ª ×”×’×™×œ -->
            <div class="puzzle-card" id="card4">
                <div class="puzzle-header">
                    <div class="puzzle-number">ğŸ‚ 4</div>
                    <div class="puzzle-title">×—×™×“×ª ×”×’×™×œ××™×</div>
                    <div class="difficulty expert">××•××—×”</div>
                </div>
                
                <div class="puzzle-content">
                    <p><strong>×¡×‘× ×•×©×œ×•×©×ª ×™×œ×“×™×•:</strong></p>
                    
                    <p>ğŸ“ ××›×¤×œ×ª ×”×’×™×œ××™× ×©×œ 3 ×”×™×œ×“×™× = 60<br>
                    ğŸ“ ×¡×›×•× ×”×’×™×œ××™× ×©×œ 3 ×”×™×œ×“×™× = ××¡×¤×¨ ×”×‘×™×ª ×©×œ ×¡×‘×<br>
                    ğŸ“ ×”×™×œ×“ ×”×‘×›×•×¨ (×”×›×™ ××‘×•×’×¨) ××•×”×‘ ×œ× ×’×Ÿ ×‘×¤×¡× ×ª×¨</p>
                    
                    <p style="margin-top: 20px;"><strong>×”×ª×’×œ×”:</strong> ××¤×™×œ×• ××—×¨×™ ×©× ×××¨ ×œ×›× ××¡×¤×¨ ×”×‘×™×ª, ×¢×“×™×™×Ÿ ××™×Ÿ ×œ×›× ××¡×¤×™×§ ××™×“×¢! (×–×” ×‘×¢×¦××• ×¨××– ×—×©×•×‘)</p>
                    
                    <p style="margin-top: 20px; background: #fef3c7; padding: 15px; border-radius: 8px;">
                        <strong>×©××œ×”:</strong> ××” ×”×’×™×œ××™× ×©×œ 3 ×”×™×œ×“×™×? (×¨×©××• ××”×¦×¢×™×¨ ×œ×‘×•×’×¨, ×¢× ×¤×¡×™×§×™×)
                    </p>
                </div>
                
                <div class="answer-section">
                    <div class="answer-label">×”×’×™×œ××™× (××”×¦×¢×™×¨ ×œ×‘×•×’×¨, ×œ×“×•×’××”: 2, 5, 6):</div>
                    <input type="text" class="answer-input" id="answer4" placeholder="?, ?, ?">
                    <div class="button-group">
                        <button class="submit-btn" onclick="checkAnswer(4)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                        <button class="hint-btn" onclick="toggleHint(4)">ğŸ’¡ ×¨××–</button>
                    </div>
                    <div class="hint-box" id="hint4">
                        <strong>×¨××–:</strong> ××¦××• ××ª ×›×œ ×”××¤×©×¨×•×™×•×ª ×œ××›×¤×œ×” ×©×œ 60. ×”×”×¢×¨×” ×©"××™×Ÿ ××¡×¤×™×§ ××™×“×¢" ××•××¨×ª ×©×™×© 2+ ××¤×©×¨×•×™×•×ª ×¢× ××•×ª×• ×¡×›×•×! ×”××™×“×¢ ×¢×œ "×‘×›×•×¨" ×¤×•×ª×¨ ××ª ×”×‘×¢×™×”...
                    </div>
                    <div class="feedback" id="feedback4"></div>
                </div>
            </div>
        </div>
        
        <div class="final-reveal" id="finalReveal">
            <div class="emoji-large">ğŸ‰ğŸ§ ğŸ‚</div>
            <h2>×¤×¦×—×ª× ××ª ×›×œ ×”×—×™×“×•×ª!</h2>
            
            <div class="final-message">
                <strong>60 ×©× ×™× ×©×œ ×—×•×›××”, ×”×™×’×™×•×Ÿ ×•×ª×‘×•× ×”</strong><br>
                ×¡×‘× - ×”×× ×˜×•×¨ ×©×œ× ×• ×‘×—×™×™× ×•×‘×—×©×™×‘×”<br>
                ××–×œ ×˜×•×‘ ×¢×œ 60 ×©× ×•×ª ×—×“×•×ª ××—×©×‘×ª×™×ª!
            </div>
            
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-label">â±ï¸ ×–××Ÿ ×¡×™×•×</div>
                    <div class="stat-value" id="finalTime">--:--</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ğŸ¯ ×—×™×“×•×ª × ×¤×ª×¨×•</div>
                    <div class="stat-value">4/4</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ğŸ§  IQ ×§×‘×•×¦×ª×™</div>
                    <div class="stat-value">âˆ</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let startTime = Date.now();
        let solvedPuzzles = new Set();
        let timerInterval;
        
        // Solutions
        const solutions = {
            1: ['×¨×•× ×™, ×˜×•× ×™, ×“× ×™', '×¨×•× ×™,×˜×•× ×™,×“× ×™', '×¨×•× ×™ ×˜×•× ×™ ×“× ×™'],
            2: ['3'],
            3: ['65'],
            4: ['2, 2, 15', '2,2,15', '2, 15, 2', '2,15,2', '15, 2, 2', '15,2,2']
        };
        
        // Timer
        function startTimer() {
            timerInterval = setInterval(() => {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                const remaining = 600 - elapsed;
                
                if (remaining <= 0) {
                    clearInterval(timerInterval);
                    document.getElementById('timer').textContent = '00:00';
                    document.getElementById('timer').style.background = 'linear-gradient(135deg, #7f1d1d, #991b1b)';
                    return;
                }
                
                const minutes = Math.floor(remaining / 60);
                const seconds = remaining % 60;
                document.getElementById('timer').textContent = 
                    `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                
                if (remaining <= 120) {
                    document.getElementById('timer').style.background = 'linear-gradient(135deg, #ea580c, #c2410c)';
                }
            }, 1000);
        }
        
        startTimer();
        
        function checkAnswer(puzzleNum) {
            const input = document.getElementById(`answer${puzzleNum}`).value.trim();
            const feedback = document.getElementById(`feedback${puzzleNum}`);
            
            const isCorrect = solutions[puzzleNum].some(sol => 
                input.toLowerCase().replace(/\s+/g, ' ') === sol.toLowerCase().replace(/\s+/g, ' ')
            );
            
            if (isCorrect && !solvedPuzzles.has(puzzleNum)) {
                solvedPuzzles.add(puzzleNum);
                feedback.className = 'feedback correct show';
                feedback.textContent = 'âœ… ××¦×•×™×Ÿ! ×”×ª×©×•×‘×” × ×›×•× ×”!';
                
                document.getElementById(`card${puzzleNum}`).classList.add('solved');
                document.getElementById(`answer${puzzleNum}`).disabled = true;
                
                updateProgress();
                
                if (solvedPuzzles.size === 4) {
                    setTimeout(() => showFinalReveal(), 1500);
                }
            } else if (solvedPuzzles.has(puzzleNum)) {
                feedback.className = 'feedback correct show';
                feedback.textContent = 'âœ… ×›×‘×¨ ×¤×ª×¨×ª× ××ª ×”×—×™×“×” ×”×–×•!';
            } else {
                feedback.className = 'feedback wrong show';
                feedback.textContent = 'âŒ ×œ× ××“×•×™×§... × ×¡×• ×©×•×‘ ××• ×”×©×ª××©×• ×‘×¨××–!';
            }
        }
        
        function toggleHint(puzzleNum) {
            const hint = document.getElementById(`hint${puzzleNum}`);
            hint.classList.toggle('show');
        }
        
        function updateProgress() {
            const count = solvedPuzzles.size;
            const percentage = (count / 4) * 100;
            
            document.getElementById('solvedCount').textContent = count;
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressBar').textContent = Math.round(percentage) + '%';
        }
        
        function showFinalReveal() {
            clearInterval(timerInterval);
            
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            document.getElementById('finalTime').textContent = 
                `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            
            document.querySelector('.puzzles-grid').style.display = 'none';
            document.querySelector('.progress-indicator').style.display = 'none';
            document.getElementById('finalReveal').classList.add('show');
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>